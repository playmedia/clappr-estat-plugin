<head>
  <script type="text/javascript" src="http://cdn.clappr.io/latest/clappr.js"></script>
  <script type="text/javascript" src="../dist/clappr-estat-plugin.js"></script>
</head>
<body>
  <div id="player"></div>
  <script>
    (function () {
      // Clappr.Log.setLevel(0)

      // HLS VOD
      // var videoUrl = 'http://www.streambox.fr/playlists/x36xhzz/x36xhzz.m3u8', videoName = 'Big Buck Bunny'

      // HLS Live with DVR
      // var videoUrl = 'http://live-api.miraclechannel.com/hls/miracle1.m3u8', videoName = 'Miracle Channel'

      // MP4 VOD
      var videoUrl = 'https://static.playmedia-cdn.net/resources/sample/h264_sintel_trailer-1080p.mp4', videoName = 'Sintel'

      var player = new Clappr.Player({
        parentId: "#player",
        source: videoUrl,
        disableKeyboardShortcuts: true,
        disableVideoTagContextMenu: true,
        autoSeekFromUrl: false,
        // autoPlay: true,
        plugins: {
          core: [ClapprEstatPlugin],
        },
        estatPlugin: {
          // debug: true,
          // secure: true,
          eStatTagCfg: {
            serial: 'ESTAT-STREAMING-SERIAL',
            streaming: {
              streamName: videoName,
              // streamGenre: 'MyVideoGenre',
              // streamDuration: 1337,
            },
          },
        }
      })

      // window.updateEstatTag = function() {
      //   var tag = player.eStatStreamTag()
      //   tag.set({
      //     levels: {
      //       level_1: 'MyCustomLevel',
      //     }
      //   })
      //   console.log('eStatStreamTag', tag)
      // }
    })()
  </script>
  <!-- <button onclick="updateEstatTag()">Update eStat tag levels</button> -->
</body>
