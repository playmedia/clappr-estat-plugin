<head>
  <script type="text/javascript" src="clappr.min.js"></script>
  <!-- <script type="text/javascript" src="clappr-estat-plugin.min.js"></script> -->
  <script type="text/javascript" src="clappr-estat-plugin.js"></script>
</head>
<body>
  <div id="player"></div>
  <script>
    (function () {
      // Clappr.Log.setLevel(0)

      var videoUrl = 'https://wowza.jwplayer.com/live/jelly.stream/playlist.m3u8'                       // Live HLS
      /*
      var videoUrl = 'http://wowza.jwplayer.com/live/jelly.stream/playlist.m3u8?DVR'                   // Live with DVR HLS
      var videoUrl = 'http://www.streambox.fr/playlists/x36xhzz/x36xhzz.m3u8'                          // VOD HLS
      var videoUrl = 'https://static.playmedia-cdn.net/resources/sample/h264_sintel_trailer-1080p.mp4' // VOD MP4
      */

      var player = new Clappr.Player({
        parentId: "#player",
        source: videoUrl,
        disableKeyboardShortcuts: true,
        disableVideoTagContextMenu: true,
        autoSeekFromUrl: false,
        // autoPlay: true,
        plugins: {
          core: [ClapprEstatPlugin],
        },
        estatPlugin: {
          // debug: true,
          // secure: true,
          eStatTagCfg: {
            serial: 'ESTAT-STREAMING-SERIAL',
            streaming: {
              streamName: 'MyVideoName',
              // streamGenre: 'MyVideoGenre',
              // streamDuration: 1337,
            },
          },
        }
      })

      // window.updateEstatTag = function() {
      //   var tag = player.eStatStreamTag()
      //   tag.set({
      //     levels: {
      //       level_1: 'MyCustomLevel',
      //     }
      //   })
      //   console.log('eStatStreamTag', tag)
      // }
    })()
  </script>
  <!-- <button onclick="updateEstatTag()">Update eStat tag levels</button> -->
</body>
