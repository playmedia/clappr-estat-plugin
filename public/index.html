<head>
  <!-- <script src="http://192.168.1.113:8080/console.js"></script> -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clappr@0.2.100/dist/clappr.min.js"></script>
  <!-- <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js"></script> -->
  <script type="text/javascript" src="clappr-estat-plugin.js"></script>
</head>
<body>
  <div id="player"></div>
  <script>
      // Clappr.Log.setLevel(0)
      console.log('Clappr version ' + Clappr.version);

      var videoUrl = 'https://ec.playmedia.fr/beblack/africa/playlist.m3u8';                       // Live HLS
      // var videoUrl = 'https://static.playmedia-cdn.net/resources/sample/h264_sintel_trailer-1080p.mp4'; // VOD MP4
      // var videoUrl = 'http://www.streambox.fr/playlists/x36xhzz/x36xhzz.m3u8';                          // VOD HLS

      var ESTAT_SERIAL = 'ESTAT-STREAMING-SERIAL';

      var player = new Clappr.Player({
        parentId: "#player",
        source: videoUrl,
        disableKeyboardShortcuts: true,
        disableVideoTagContextMenu: true,
        autoSeekFromUrl: false,
        // autoPlay: true,
        plugins: {
          core: [ClapprEstatPlugin],
        },
        playback: {
          playInline: true,
        },
        estatPlugin: {
          debug: true,
          eStatTagCfg: {
            serial: ESTAT_SERIAL,
            streaming: {
              streamName: 'MyVideoName',
              // streamGenre: 'MyVideoGenre',
              // streamDuration: 1337,
              // debug: true,
            },
          },
        }
      });

      // var updateEstatTag = function() {
      //   var tag = player.eStatStreamTag()
      //   tag.set({
      //     levels: {
      //       level_1: 'MyCustomLevel',
      //     }
      //   })
      //   console.log('eStatStreamTag', tag)
      // };

      // var configurePlayer = function() {
      //   var tag = player.configure({
      //     source: videoUrl,
      //     estatPlugin: {
      //       eStatTagCfg: {
      //         serial: ESTAT_SERIAL,
      //         streaming: {
      //           streamName: 'AnotherName',
      //         },
      //       },
      //     }
      //   })
      // };

  </script>
  <!-- <button onclick="updateEstatTag()">Update eStat tag levels</button> -->
  <!-- <button onclick="configurePlayer()">Load another source</button> -->
</body>
